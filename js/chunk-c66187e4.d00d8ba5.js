(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c66187e4"],{"364e":function(t,e,r){"use strict";r("c9fd")},7277:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("PostUpsertForm")},o=[],a=r("1da1"),i=(r("96cf"),r("dca8"),r("9911"),r("bc3a")),c=r.n(i),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:""}},[r("v-snackbar",{attrs:{absolute:"",top:"",right:"",color:"success"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" 게시물이 등록되었습니다. ")]),r("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{rules:t.rules.title,color:"purple darken-2",label:"제목",required:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),r("v-col",{attrs:{cols:"12"}},[r("small",[t._v("내용")]),r("div",{staticClass:"my-5"},[t.editor?r("div",[r("v-btn",{class:{"is-active":t.editor.isActive("link")},on:{click:t.setLink}},[r("v-icon",[t._v("mdi-link-variant")])],1),r("v-btn",{attrs:{disabled:!t.editor.isActive("link")},on:{click:function(e){t.editor.chain().focus().unsetLink().run()}}},[r("v-icon",[t._v("mdi-link-variant-off")])],1),r("v-btn",{on:{click:function(e){t.editor.chain().focus().setHardBreak().run()}}},[r("v-icon",[t._v("mdi-wrap")])],1),r("editor-content",{attrs:{editor:t.editor}})],1):t._e()]),r("div",[r("EditorContent",{attrs:{editor:t.editor}})],1)]),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{rules:t.rules.link,color:"purple darken-2",label:"YouTube 링크"},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-select",{attrs:{items:t.categories,rules:t.rules.category,color:"pink",label:"카테고리",required:""},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}})],1)],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"my-5 ml-3",attrs:{depressed:"",color:"#9575cd",dark:"",onclick:"history.back()"}},[t._v("뒤로가기")]),r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.resetForm}},[t._v(" 초기화 ")]),r("v-btn",{attrs:{disabled:!t.formIsValid,text:"",color:"primary",type:"submit"}},[t._v(" 등록하기 ")])],1)],1)],1)},l=[],u=(r("1276"),r("ac1f"),r("1ab4")),f=r("672a"),d=r("14b4"),m=r("5924"),k=r("3560"),b={name:"PostCreateForm",components:{EditorContent:u["b"]},data:function(){var t=Object.freeze({title:"제목",link:"https://youtu.be/j9KSwmqFdjU",category:"비디오 컨텐츠"});return{form:Object.assign({},t),rules:{category:[function(t){return(t||"").length>0||"필수입력"}],title:[function(t){return(t||"").length>0||"필수입력"}],link:[function(t){return(t||"").length>0||"링크 주소를 확인하세요"}]},categories:["비디오 컨텐츠","크레파스 워십"],snackbar:!1,defaultForm:t,editor:null}},mounted:function(){this.editor=new u["a"]({content:"",extensions:[f["a"],k["a"].configure({openOnClick:!0,autolink:!0,linkOnPaste:!0,HTMLAttributes:{class:"my-custom-class"}}),d["a"].configure({keepMarks:!0}),m["a"]]})},computed:{formIsValid:function(){return this.form.title&&this.form.category}},methods:{resetForm:function(){this.form=Object.assign({},this.defaultForm),this.$refs.form.reset()},submit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("".concat(t.$ROOT_API,"/posts"),{title:t.form.title,content:t.editor.getHTML(),youtubeUrl:t.form.link.split("youtu.be/")[1],category:t.form.category},{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(t){return t.data})).then(t.snackbar=!0,t.resetForm()).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},setLink:function(){var t=this.editor.getAttributes("link").href,e=window.prompt("URL",t);null!==e&&(""!==e?this.editor.chain().focus().extendMarkRange("link").setLink({href:e}).run():this.editor.chain().focus().extendMarkRange("link").unsetLink().run())}}},h=b,v=(r("364e"),r("2877")),p=r("6544"),g=r.n(p),y=r("8336"),w=r("b0af"),x=r("99d9"),_=r("62ad"),F=r("a523"),V=r("4bd4"),O=r("132d"),j=r("0fd9"),C=r("b974"),R=r("2db4"),A=r("2fa4"),L=r("8654"),$=Object(v["a"])(h,s,l,!1,null,null,null),I=$.exports;g()($,{VBtn:y["a"],VCard:w["a"],VCardActions:x["a"],VCol:_["a"],VContainer:F["a"],VForm:V["a"],VIcon:O["a"],VRow:j["a"],VSelect:C["a"],VSnackbar:R["a"],VSpacer:A["a"],VTextField:L["a"]});var S=r("83be"),P={name:"Dashboard",components:{PostCreateForm:I,PostUpsertForm:S["default"]},data:function(){var t=Object.freeze({title:"axios",content:"axios",link:"lnink",category:"프로젝트"});return{form:Object.assign({},t),rules:{category:[function(t){return(t||"").length>0||"필수입력"}],title:[function(t){return(t||"").length>0||"필수입력"}],content:[function(t){return(t||"").length>0||"필수입력"}],link:[function(t){return(t||"").length>0||"링크 주소를 확인하세요"}]},categories:["비디오 컨텐츠","크레파스 워십"],snackbar:!1,defaultForm:t}},computed:{formIsValid:function(){return this.form.title&&this.form.content&&this.form.category}},methods:{resetForm:function(){this.form=Object.assign({},this.defaultForm),this.$refs.form.reset()},submit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("https://shrouded-headland-21000.herokuapp.com/api/posts",{title:t.form.title,content:t.form.content,youtubeUrl:t.form.link,category:t.form.category},{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(t){return t.data})).then(t.snackbar=!0,t.resetForm()).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},U=P,M=Object(v["a"])(U,n,o,!1,null,null,null);e["default"]=M.exports},c9fd:function(t,e,r){}}]);
//# sourceMappingURL=chunk-c66187e4.d00d8ba5.js.map